<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>AI 亲子计划助手 · Demo</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<header>
  <h1>AI 亲子计划助手 · Demo</h1>
  <nav>
    <button class="tab-btn active" data-tab="projects">项目</button>
    <button class="tab-btn" data-tab="tasks">任务</button>
    <button class="tab-btn" data-tab="today">今天</button>
    <button id="exportBtn" class="ghost">导出备份</button>
    <label class="ghost"><input type="checkbox" id="kidMode"> 孩子模式</label>
  </nav>
</header>

<main>
  <!-- Projects -->
  <section id="projects" class="tab active">
    <div class="panel">
      <h2>愿望清单</h2>
      <form id="projectForm" class="row">
        <input required id="pTitle" placeholder="例如：数学提升 / 阅读10本书">
        <input id="pDue" type="date">
        <select id="pPriority">
          <option value="high">优先级：高</option>
          <option value="medium">优先级：中</option>
          <option value="low">优先级：低</option>
        </select>
        <button type="submit">+ 新建项目</button>
      </form>
      <div id="projectList" class="cards"></div>
    </div>

    <div class="panel">
      <h3>AI 任务分解器</h3>
      <div class="row">
        <input id="childAge" type="number" min="5" max="18" value="10" style="max-width:120px">
        <select id="level">
          <option>低</option><option selected>中</option><option>高</option>
        </select>
        <label class="ghost"><input type="checkbox" id="useOpenAI"> 使用OpenAI</label>
        <input id="openaiKey" placeholder="OpenAI API Key（可选）" style="flex:1;display:none;">
      </div>
      <p class="hint">选择一个项目后点击“AI 生成任务”。若不勾选“使用OpenAI”，将使用内置模板生成（离线，可演示）。</p>
      <button id="genTasksBtn">AI 生成任务 → 加入任务表</button>
    </div>
  </section>

  <!-- Tasks -->
  <section id="tasks" class="tab">
    <div class="panel">
      <h2>任务清单（可拖拽到“今天”）</h2>
      <div id="taskList" class="cards droplist" data-drop="pool"></div>
    </div>
    <div class="panel">
      <details>
        <summary>筛选</summary>
        <div class="row">
          <select id="filterProject"></select>
          <select id="filterStatus">
            <option value="all">全部</option>
            <option value="todo">待做</option>
            <option value="done">已完成</option>
          </select>
          <button id="clearDone" class="ghost">清除已完成</button>
        </div>
      </details>
    </div>
  </section>

  <!-- Today -->
  <section id="today" class="tab">
    <div class="panel">
      <h2>今日计划（番茄 25/5）</h2>
      <div class="lanes">
        <div class="lane">
          <h4>上午</h4>
          <div id="lane-morning" class="droplist" data-drop="morning"></div>
        </div>
        <div class="lane">
          <h4>下午</h4>
          <div id="lane-afternoon" class="droplist" data-drop="afternoon"></div>
        </div>
        <div class="lane">
          <h4>晚上</h4>
          <div id="lane-evening" class="droplist" data-drop="evening"></div>
        </div>
      </div>
      <div class="row">
        <button id="autoPlan">自动生成今日计划</button>
        <button id="startPomodoro" class="ghost">开始番茄（25/5）</button>
      </div>
    </div>
  </section>
</main>

<footer>
  <small>本演示只用于展示交互思路。数据保存在浏览器本地（localStorage）。</small>
</footer>

<script src="app.js"></script>
</body>
</html>
